#pragma config PLLDIV = 2, CPUDIV = OSC1_PLL2, USBDIV = 2
#pragma config FOSC = HSPLL_HS, FCMEN = OFF, IESO = OFF
#pragma config PWRT = OFF, BOR = OFF, BORV = 3, VREGEN = OFF
#pragma config WDT = OFF
#pragma config WDTPS = 32768
#pragma config CCP2MX = ON, PBADEN = OFF, LPT1OSC = OFF, MCLRE = ON
#pragma config STVREN = ON, LVP = OFF, ICPRT = OFF, XINST = OFF
#pragma config CP0 = OFF, CP1 = OFF, CP2 = OFF, CP3 = OFF
#pragma config CPB = OFF, CPD = OFF
#pragma config WRT0 = OFF, WRT1 = OFF, WRT2 = OFF, WRT3 = OFF
#pragma config WRTC = OFF, WRTB = OFF, WRTD = OFF
#pragma config EBTR0 = OFF, EBTR1 = OFF, EBTR2 = OFF, EBTR3 = OFF
#pragma config EBTRB = OFF

#define _XTAL_FREQ 48000000
#include <xc.h>

#include "i2c.h"                                // Libreria del protocolo i2c
#include "ssd1306_oled.h"                       // Libreria de la pantalla oled i2c

const uint8_t imagen_1[1024] = {
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 192, 224, 224, 224, 192,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 192, 248, 254, 255, 255, 127, 255, 255, 255, 248, 192,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 192, 224, 240, 248, 252, 252, 124,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62,  62, 124, 252, 252, 248, 240, 224, 192,   0,   0,   0,   0,   0,   0, 
    0,   0,   0,   0,   0,   0, 128, 128, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 240, 254, 255, 255, 127,  31,   3,   0,   3,  15, 127, 255, 255, 254, 240, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 128, 128,   0,   0,   0,   0,   0, 255, 255, 255, 255, 255,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1, 255, 255, 255, 255, 255,   0,   0,   0,   0,   0, 
    0,   0,   0,   0,   0,   0,   3,   7,  15,  15,  31,  63,  63, 127, 255, 255, 255, 247, 247, 231, 199, 199, 135,   7,   7,   7,   7,   7,   3,   3,   0,   0,   0,   0,   0,   0,   0,   3,   3,   7,   7,   7,   7,   7, 135, 199, 199, 231, 247, 247, 255, 255, 255, 127,  63,  63,  31,  15,  15,   7,   3,   0,   0,   0,   0,   0, 255, 255, 255, 255, 255,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 255, 255, 255, 255, 255,   0,   0,   0,   0,   0, 
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   3,   3, 135, 255, 255, 255, 255, 255,  28,   0,   0,   0,   0,   0,   0,   0, 128,   0,   0,   0,   0,   0,   0,   0,  28, 255, 255, 255, 255, 255, 135,   3,   3,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 255, 255, 255, 255, 255,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 255, 255, 255, 255, 255,   0,   0,   0,   0,   0, 
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 224, 252, 255, 255, 255, 255, 231, 224, 240, 248, 248, 252, 126, 126,  63,  31,  31,  31,  63, 126, 126, 252, 248, 248, 240, 224, 231, 255, 255, 255, 255, 252, 224,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  31, 255, 255, 255, 255, 224, 192, 128, 128, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128, 128, 192, 224, 255, 255, 255, 255,  63,   0,   0,   0,   0,   0, 
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  63,  63,  63,  63,  31,  15,  15,   7,   3,   3,   1,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   3,   3,   7,  15,  15,  31,  63,  63,  63,  63,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   3,   7,   7,  15,  15,  15,  31,  31,  63, 127, 254, 252, 248, 240, 240, 248, 252, 254, 126,  63,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  31,  15,  15,  15,   7,   7,   3,   1,   0,   0,   0,   0,   0,   0,   0, 
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   3,   3,   3,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
};

const uint8_t imagen_2[1024] = {
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128, 224, 224, 240, 240, 112, 112, 120, 120, 240, 240, 224, 224, 192, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  60, 254, 255, 255, 127,  14,   0,   0,   0,   0,   0,   0,   0,   1,   1,   7,  31,  63, 255, 254, 252, 240, 192,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   7,   3,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128, 224, 251, 255, 255, 255, 255, 248, 224,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128, 192, 192, 128, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 224, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255,  27,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 224, 240, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 255, 255, 255, 255, 255,  63, 127, 126, 252, 248, 248, 240, 224, 192, 128, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 128, 192, 192, 192, 128,   0,   0, 192, 224, 224,   0,   0, 128, 192, 224, 112, 240, 240,   0, 192, 224, 240,  56, 156, 156, 204, 206, 220, 248, 240, 240, 248, 252, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 223, 207, 225, 224, 192, 192, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 255, 255, 255, 255, 255, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 192, 128, 128,   0,   0,   0, 128, 193, 227, 247, 247, 255, 255, 255, 127,  62,  28,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0, 128, 192, 192, 224, 224, 224, 224, 224, 192, 192, 192, 192, 192, 224, 224, 224, 248, 255, 227, 225, 207, 255, 252, 224, 239, 255, 255, 248, 248, 255, 255, 253, 252, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 127, 127,  63, 127, 239, 207, 143,  15,   7,  28,  56, 112, 225, 195, 135,   6,  12,   8,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   3,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7, 127, 255, 255, 255, 255, 254, 127,  63,  31,  15,  15,   7,   3,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,  31,  63,  63,  39,  47,   7,   7,   7,   3,   3,   3,   3,   1,   1,   1,   1,   1,   1,   1,   1,  64,  65,  65,  97,  99, 227, 227, 243, 243, 243, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 247,   7,   3,   3,   3,   3,   1,   3,  15,  62, 120, 224, 128,   0,   0,   1,   1,   3,   7,   6,  12,   8,   8,   9,   3,   3,   2,   2,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   4,   4,  12,   8,   8,   8,  24,  24,  24,  24,  29,  15,  15,  15,  15,   7,   7,   7,   7,   3,   1,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   2,   2,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0
};

const uint8_t imagen_3[1024] = {
  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 224, 240, 240, 120,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56,  56, 240, 240, 224,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0, 224, 248, 252, 252,  30,  14,   7,   7, 135, 195, 227, 227, 227,  99,  99, 227, 227, 195, 131,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   3,   7,  31,  63, 127, 112,  96,  96,  96,  99,  99,  99,  99,  96,  96,  96,  96,  99,  99,  99,  98,  96,  96,  96,  99,  99,  99,  99,  96,  96,  96, 112, 127, 127,  63,   7,   3,   3,   7,   7,   7,  14,  30, 252, 252, 248, 224,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0, 255, 255, 255, 255,   0,   0,   0,   0,   3,   7,  15,  15,  14,  12,  12,  15,  15,   7,   3,   0, 128, 128, 128, 252, 252, 252, 252, 128, 128, 128, 252, 252, 252, 252, 192, 128, 128, 192, 252, 252, 252, 252, 128, 128, 128, 192, 252, 252, 252, 192, 128, 128, 128, 252, 252, 252, 252, 128, 128, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  64, 240, 248, 248,  60,  28,  12,  12,  12,  12,  28, 188, 248, 248, 240,  64,   0,   0,   0, 224, 240, 248, 248,  28,  28,  12,  12,  12,  12,  28, 252, 248, 248, 224,   0,   0,   0,   0, 255, 255, 255, 255,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0, 255, 255, 255, 255,   0,   0,   0,   0,   0,   0,   0,   0, 198, 198, 198, 198, 198, 198, 198, 255, 255, 255, 255,   1,   1,   1,   1, 249, 249, 249,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57,  57, 249, 249, 249, 249,   1,   1,   1,   1, 255, 255, 255, 238, 198, 198, 198, 198, 198, 198, 198,   0,   0,   0,   0,   0,   0,   0, 192, 193, 195, 195, 199, 199, 198, 198, 198, 198, 199, 199, 195, 195, 193, 192, 192, 192, 192, 192, 193, 195, 199, 199, 199, 198, 198, 198, 198, 199, 199, 195, 195, 193,   0,   0,   0,   0, 255, 255, 255, 255,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0, 255, 255, 255, 255,   0,   0,   0,   0,   0,   0,   0,   0,  24,  24,  24,  24,  24,  24,  24, 255, 255, 255, 255,   0,   0,   0,   0, 255, 255, 255,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 255, 255, 255, 255,   0,   0,   0,   0, 255, 255, 255, 189,  24,  24,  24,  24,  24,  24,  24,   0,   0,   0,   0,   0,   0,   0, 127, 255, 255, 255, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 224, 255, 255, 255, 255,   0,   0,   0,   0, 255, 255, 255, 255,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0, 255, 255, 255, 255,   0,   0,   0,   0,   0,   0,   0,   0, 115, 115, 115, 115, 115, 115, 115, 255, 255, 255, 255, 128, 128, 128, 128, 143, 143, 143, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 143, 143, 143, 143, 128, 128, 128, 128, 255, 255, 255, 119, 115, 115, 115, 115, 115, 115, 115,   0,   0,   0,   0, 128, 192, 192, 224, 224,  96, 112, 112, 112,  96, 224, 224, 192, 128,   0,   0,   0,   0,   0, 252, 252, 252,  28,  12,  12,  12,  12,  12, 140, 140, 140, 140, 140, 140, 140,  12,  12,  12,  12,  12,  28, 255, 255, 255, 255,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,  63, 255, 255, 255, 192, 128,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   1,  63,  63,  63,  63,   1,   1,   1,  63,  63,  63,  63,   1,   1,   1,   1,  63,  63,  63,  63,   1,   1,   1,   3,  63,  63,  63,   3,   1,   1,   1,  63,  63,  63,  63,   1,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   7,  15,  31,  29,  56,  56,  48,  48,  56,  56,  60,  31,  31,  15,   7,   0,   0,   0,   0, 255, 255, 255,   0,   0,   0,   0,  14,  31,  31,  63,  59,  49,  57,  63,  63,  31,  14,   0,   0, 128, 192, 255, 255, 255,  63,   0,   0,   0,   0,   0, 
  0,   0,   0,   0,   0,   0,   0,   0,   1,   1,   3,   3,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   7,   3,   3,   1,   1,   0,   0,   0,   0,   0,   0,   0
};

void main()
{
    ADCON1bits.PCFG = 0x0F;                     // Coloca todos los pines como digitales
    I2C_Init_Master(I2C_400KHZ);                // Inicializa el protocolo i2c
    OLED_Init();                                // Inicializa la pantalla oled
    
    while(1)
    {
        OLED_Image(imagen_1);                   // Muestra la imagen 1
        OLED_Update();
        __delay_ms(2000);
        
        OLED_Image(imagen_2);                   // Muestra la imagen 2
        OLED_Update();
        __delay_ms(2000);
        
        OLED_Image(imagen_3);                   // Muestra la imagen 3
        OLED_Update();
        __delay_ms(2000);
    }
}